var _RFE_module_custom_print=webpackJsonp_RFE_module__name_([45],{37:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),o=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reflectForm=function(){for(var e,i,n=0;n<t.checkbox.length;n++)if(i=document.querySelectorAll(t.opts[n]),e=t.toHideSel.indexOf(t.opts[n]),t.checkbox[n].checked){t.toHideSel.splice(e,1);for(var o=0;o<i.length;o++)$dom.removeClass(i[o],t.prevPrintEl)}else if(e<0){t.toHideSel.push(t.opts[n]);for(var o=0;o<i.length;o++)$dom.addClass(i[o],t.prevPrintEl)}},t.printWraps=function(){if(document.querySelectorAll(".wsw__print-wrap").length<1)for(var e=document.querySelectorAll(".wsw__h1,.wsw__h2,.wsw__h3,.wsw__h4,.wsw__h5,.wsw__h6"),t=0;t<e.length;t++){var i=e[t].nextElementSibling;if(i&&i!==e[t+1]){var n=document.createElement("div");n.className="wsw__print-wrap",e[t].parentNode.insertBefore(n,e[t]),n.appendChild(e[t]),n.appendChild(i)}}},t.showDialogue=function(){$dom.hasClass(t.body,t.prevPrint)||($dom.removeClass(t.body,t.stdPrint),$dom.addClass(t.body,t.prevPrint),t.hdrInner&&$dom.addClass(t.hdrInner,"container"),t.printWraps(),t.reflectForm(),setTimeout(function(){t.body.style.paddingTop=t.dialogue.getBoundingClientRect().height+20+"px"},100))},t.exitDialogue=function(){if($dom.hasClass(t.body,t.prevPrint)){$dom.removeClass(t.body,t.prevPrint),t.hdrInner&&$dom.removeClass(t.hdrInner,"container"),$dom.addClass(t.body,t.stdPrint);for(var e=document.querySelectorAll(t.prevPrintEl),i=0;i<e.length;i++)$dom.removeClass(e[i],t.prevPrintEl);t.body.style.paddingTop="0",RFE.triggerCustomEvent(document,"printDialogueClose")}},t.keyHandler=function(e){27===e.keyCode&&t.exitDialogue()},t.printHandler=function(){window.print()},t}return o(t,e),t.prototype.initGlobal=function(){this.printButton=document.querySelectorAll(".btn-print"),this.closeButton=document.querySelector(".close-button"),this.custPrintButton=document.querySelector(".btn-cust-print"),this.body=document.body,this.dialogue=document.querySelector(".print-dialogue "),this.hdrInner=document.querySelector(".hdr-20__inner"),this.stdPrint="print-lay-article",this.prevPrint="print-preview",this.prevPrintEl="print-preview__el",this.images=".img-wrap,.img-wrap + figcaption,.quiz,.infographic,.content-map,.col-multimedia .cover-media,.photogallery,.featured-article__header .caption",this.multimedia=".media-pholder--video,.media-pholder--audio,.wsw__embed .flexible-iframe",this.embedded=".infgraphicsAttach,.externalMedia,.also-read",this.comments=".comments, #comments",this.toHideSel=[],this.checkbox=[document.getElementById("checkboxImages"),document.getElementById("checkboxMultimedia"),document.getElementById("checkboxEmbedded"),document.getElementById("checkboxComments")],this.opts=[this.images,this.multimedia,this.embedded,this.comments];for(var e=0;e<this.checkbox.length;e++)this.checkbox[e].addEventListener("change",this.reflectForm);for(var e=0;e<this.printButton.length;e++)this.printButton[e].addEventListener("click",this.showDialogue);return this.closeButton.addEventListener("click",this.exitDialogue),this.custPrintButton.addEventListener("click",this.printHandler),window.addEventListener("keydown",this.keyHandler),!0},t.prototype.deinitGlobal=function(){this.body=null,this.stdPrint="",this.prevPrint="",this.prevPrintEl="",this.images="",this.multimedia="",this.embedded="",this.comments="",this.toHideSel=[],this.checkbox=[],this.opts=[];for(var e=0;e<this.checkbox.length;e++)this.checkbox[e].removeEventListener("change",this.reflectForm);for(var e=0;e<this.printButton.length;e++)this.printButton[e].removeEventListener("click",this.showDialogue);this.closeButton.removeEventListener("click",this.exitDialogue),this.custPrintButton.removeEventListener("click",this.printHandler),window.removeEventListener("keydown",this.keyHandler),this.printButton=null,this.closeButton=null,this.custPrintButton=null,this.dialogue=null},t}(n.a);t.default=r}},[37]);
_resourceLoaderReceiver_1();